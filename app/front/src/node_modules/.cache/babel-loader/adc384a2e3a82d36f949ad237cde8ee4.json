{"ast":null,"code":"var _jsxFileName = \"/Users/camille/git/sailor/Sailor/app/front/src/Quizz/AddQuizz.js\";\nimport React, { useState, useEffect, Redirect } from \"react\";\nimport axios from 'axios';\nimport { HTTP_SERVER_PORT, HTTP_SERVER_PORT_PICTURES, HTTP_SERVER_PORT_VIDEOS } from \"../constantes\";\n\nfunction Quizz(props) {\n  // axios.defaults.headers.common['Authorization'] = 'Bearer ' + props.token;\n  const [quizzes, setQuizz] = useState([]);\n\n  async function getQuizz() {\n    const data = (await axios.get(HTTP_SERVER_PORT)).data;\n    setQuizz(data);\n  }\n\n  useEffect(() => {\n    getQuizz();\n  }, []);\n\n  async function deleteQuizz(e, id) {\n    e.preventDefault();\n    await axios.delete(HTTP_SERVER_PORT + \"quizzes\" + id);\n    getQuizz();\n  }\n\n  async function addQuizz(e) {\n    e.preventDefault(); //Upload d'image\n\n    console.log(e.target.picture_url);\n    const selectedFile = e.target.picture_url.files[0];\n    console.log(e.target.picture_url.files[0]);\n    const data = new FormData();\n    data.append('file', selectedFile, selectedFile.name);\n    axios.post(HTTP_SERVER_PORT + \"upload\", data).then(res => console.log(\"Res\", res));\n    console.log(e.target); //Upload sur le serveur\n\n    let q = {\n      name: e.target.elements[0].value,\n      picture_url: e.target.elements[1].value,\n      keywords: e.target.elements[2].value\n    };\n    insertQuizz(q);\n  }\n\n  async function insertQuizz(q) {\n    await axios.post(HTTP_SERVER_PORT + \"quizzes\", q);\n    getQuizz();\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    className: \"quizz\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Add a new quizz\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    id: \"formQuizz\",\n    action: \"#\",\n    onSubmit: e => addQuizz(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Nom du quizz\"), React.createElement(\"input\", {\n    name: \"name\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  })), React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"Icone\"), React.createElement(\"input\", {\n    type: \"file\",\n    name: \"picture_url\",\n    accept: \"image/*\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"keywords\"), React.createElement(\"input\", {\n    name: \"keywords\",\n    placeholder: \"; entre chaque keywords\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Envoyez\"))));\n}\n\nexport default Quizz;","map":{"version":3,"sources":["/Users/camille/git/sailor/Sailor/app/front/src/Quizz/AddQuizz.js"],"names":["React","useState","useEffect","Redirect","axios","HTTP_SERVER_PORT","HTTP_SERVER_PORT_PICTURES","HTTP_SERVER_PORT_VIDEOS","Quizz","props","quizzes","setQuizz","getQuizz","data","get","deleteQuizz","e","id","preventDefault","delete","addQuizz","console","log","target","picture_url","selectedFile","files","FormData","append","name","post","then","res","q","elements","value","keywords","insertQuizz"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, Redirect} from \"react\";\nimport axios from 'axios';\nimport { HTTP_SERVER_PORT, HTTP_SERVER_PORT_PICTURES,HTTP_SERVER_PORT_VIDEOS} from \"../constantes\";\n\nfunction Quizz (props){\n    // axios.defaults.headers.common['Authorization'] = 'Bearer ' + props.token;\n\n    const [quizzes , setQuizz] = useState([]);\n\n    async function getQuizz() {\n        const data = (await axios.get(HTTP_SERVER_PORT)).data;\n        setQuizz(data);\n    }\n    useEffect(() => {\n        getQuizz()\n    },[]);\n\n    async function deleteQuizz(e,id){\n        e.preventDefault();\n        await axios.delete(HTTP_SERVER_PORT + \"quizzes\" + id);\n        getQuizz()\n    }\n\n     async function addQuizz(e){\n        e.preventDefault();\n        //Upload d'image\n        console.log(e.target.picture_url); \n        const selectedFile = e.target.picture_url.files[0];\n        console.log(e.target.picture_url.files[0]);  \n        const data = new FormData();\n        data.append('file', selectedFile, selectedFile.name);\n        axios.post(HTTP_SERVER_PORT + \"upload\", data).then(res => console.log(\"Res\", res));\n        console.log(e.target);\n        //Upload sur le serveur\n        let q = {\n            name : e.target.elements[0].value,\n            picture_url : e.target.elements[1].value,\n            keywords : e.target.elements[2].value,\n        }\n        insertQuizz(q);\n    }\n\n    async function insertQuizz(q) {\n        await axios.post( HTTP_SERVER_PORT + \"quizzes\", q);\n        getQuizz();\n    }\n\n    return(\n        <>\n                {/* {cities.map(c => \n                    <li key={c.id}>{c.id} : {c.cityname}</li>\n                )} */}\n            <div className=\"quizz\">\n                <h1>Add a new quizz</h1>\n                <br/>\n                <form id='formQuizz' action=\"#\" onSubmit={e=> addQuizz(e)}>\n                <p><b>Nom du quizz</b><input name=\"name\" required/></p>\n                <b>Icone</b><input type=\"file\" name=\"picture_url\" accept=\"image/*\" required/>\n                <p><b>keywords</b><input name=\"keywords\" placeholder=\"; entre chaque keywords\"/></p>\n\n                <button type=\"submit\">Envoyez</button>\n                </form>\n            </div>\n            \n        </>\n        )\n}\n\nexport default Quizz;"]},"metadata":{},"sourceType":"module"}